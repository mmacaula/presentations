<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Ampersand.js / Radio</title>

    <meta name="description" content="Training on Ampersand.js">
    <meta name="author" content="Mike Macaulay">

    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/black.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

    <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides">
        <section>
            <h2>Ampersand.js / Radio</h2>

            <p>
                <small>Created by <a href="http://michaelmac.org">Mike Macaulay</a> /
                    <a href="http://twitter.com/mmacauls">@mmacaula</a></small>
            </p>
        </section>
        <section>
            <section>

                <h2>Who Am I?</h2>
                <ul>
                    <li>Java for about 8 years</li>
                    <li>Moved to Omaha 3 years ago</li>
                    <li>Web / Javascript developer ever since</li>
                </ul>
            </section>
            <section>
                <h2>Who I work for</h2>
                <img src="lib/aviture-logo.png">
            </section>
        </section>
        <section>
            <h2>Agenda</h2>
            <ol>
                <li>Discuss MVC and Backbone</li>
                <li>Ampersand.js and where it fits</li>
                <li>Through it all, decomposing the 'magic'</li>
            </ol>

        </section>
        <section>
            <h2>Model-View-Controller</h2>
            <img src="lib/assets/backbone_mvc.png">
        </section>
        <section>
            <h2>How do events work</h2>
            <p>There are two types of events you'll run into</p>
            <ul>
                <li>DOM events</li>
                <li>Backbone/Ampersand Events</li>
            </ul>
        </section>
        <section>
            <h2>DOM Events</h2>
            <ul>
                <li>Click</li>
                <li>Focus</li>
            </ul>
            <p class="fragment">They bubble, are part of every browser</p>
        </section>
        <section>
            <h2>Backbone Events</h2>
            <p>Two types:</p>
            <ul>
                <li>Model events</li>
                <li>Custom events</li>
            </ul>

        </section>
        <section>
            <h2>Backbone Events</h2>
            <p>Two methods: 'on' and 'trigger'</p>
            <pre><code class="js" data-trim>
foo.on('eventName', function(data){
    //called when eventName is triggered
});
foo.trigger('eventName', eventData);

// later on when you no longer need it
foo.off('eventName');  // unsets ALL subcriptions for eventName
            </code></pre>
        </section>
        <section>
            <h2>Listen To</h2>
<pre><code class="js" data-trim>
view.listenTo(model,'eventName', function(data){
    // called with howdy as 'data'
});
model.trigger('eventName', 'howdy');

// later on when you no longer need it
view.stopListening();
</code></pre>
        </section>

        <section>
            <h2>Backbone Model</h2>
            <p>An object that holds <i>observable</i> state</p>
            <pre><code class="js" data-trim>
var ModelClass = Backbone.Model.extend({
    initialize(options){
        // initalization code here
    }
});
var myModel = new ModelClass({
    name: 'mike'
});
            </code></pre>
        </section>
        <section>
            <h2>Using `get` and `set`</h2>
            <pre><code class="js" data-trim>
myModel.get('name') // returns 'mike'
myModel.set('name', 'tim'); // sets name to 'tim'
            </code></pre>
        </section>
        <section>
            <h2>What does 'observable' mean anyway?</h2>
            <p>Just combines 'events' with model state</p>
<pre><code class="js" data-trim>
myModel.on('change:name', function(){
    console.log('name changed to: ', myModel.get('name'));
});
myModel.set('name', 'john'); // triggers change:name
// and prints to console: name changed to: john
</code></pre>

        </section>
        <section>
            <h2>Also get previous state</h2>
<pre><code class="js" data-trim>
myModel.on('change:name', function(){
    console.log('name changed from: ', myModel.previous('name'));
});
myModel.set('name', 'john'); // triggers change:name
// and prints to console: name changed from: mike

</code></pre>
        </section>
        <section>
            <h2>There's no magic here:</h2>
            <p>Backbone.Model Method Definition:</p>
<pre><code class="js" data-trim>

set: function(attr, value){
    this.attrs[attr] = value;
    this.trigger('change:' + attr, this);
}
get: function(attr){
    return this.attrs[attr];
}
</code></pre>
        </section>
        <section>
            <h2>I thought this was on Ampersand?</h2>
            <p class="fragment">It is, but the concepts are all the same</p>
        </section>
        <section>
            <h2>Backbone.js</h2>
            <p>Backbone is a single library</p>
            <p>Events, Models, Views, and a Router </p>
        </section>
        <section>
            <h2>Ampersand.js</h2>
            <p>Not a single library</p>
            <p class="fragment">Each piece its own 'tiny' module</p>
            <p class="fragment">Use only what you need</p>
            <p class="fragment">but also so much more</p>
        </section>
        <section>
            <h2>Javascript Properties</h2>
            <p>ES5 feature (no IE8 support)</p>
            <p>Best illustrated with an example</p>
        </section>
        <section>
            <h2>Properties</h2>
            <pre><code class="js" data-trim>
var obj = {
    get prop() {
        return "Getter";
    },
    set prop(value) {
        console.log("Setter: "+value);
    }
}
obj.prop // returns 'Getter'
obj.prop = 123;  // prints: 'Setter: 123'

            </code></pre>
        </section>
        <section>
            <h2>Annoyances with Backbone</h2>
            <p>That 'get' and 'set' to do everything</p>
            <p class="fragment">I've got an idea!</p>
        </section>
        <section>
            <h2>Combine them!</h2>
            <p>Define properties for everything that we care about</p>
<pre><code class="js" data-trim>
var BetterModelClass = Backbone.Model.extend({
    get name(){
        return this.attrs.name;
    },
    set name(newName){
        this.attrs.name = newName;
        this.trigger('change:name', this);
    }
})
var betterModel = new BetterModelClass();
betterModel.name = 'tim';
// triggers 'change:name'
</code></pre>
        </section>
        <section>
            <h2>Ampersand State</h2>
            <p>Backbone Model with Properties</p>
        </section>
        <section>
            <h2>Example</h2>
           <pre><code class="js" data-trim>
var MyState = AmpersandState.extend({
    props: {
        name: 'string'
    }
});
var model = new MyState({ name: 'mike'});
model.name // returns mike
model.name = 'tim' // triggers a change event
            </code></pre>
        </section>
        <section>
            <h2>Common Errors</h2>
            <p class="fragment">Must define your 'props' beforehand</p>
<pre><code class="js" data-trim>
var DumbState = AmpersandState.extend({
    // forgot to define props, or left one out!
});
var model = new DumbState({name: mike});
model.name // undefined!
model.name = 'tim' // NO change event!!!
model.name // return 'tim'

</code></pre>
        </section>

        <section>
            <h2>Recap</h2>
            <ul>
                <li>Events - Core to Backbone/Ampersand Communication</li>
                <li>Models (or State). Core of your app</li>
            </ul>
            <p class="fragment">We now have basic mechanisms to do MVVM</p>
        </section>
        <section>
            <h2>Deeper into State </h2>
            <p class="fragment">Let's begin with an example</p>
<pre><code class="js" data-trim>
var Person = AmpersandState.extend({
    props: {
        firstName: 'string',
        lastName: 'string'
    }
});
</code></pre>
            <p class="fragment">How would we define a 'fullName' property?</p>

        </section>
        <section>
            <h2>Ampersand State does this</h2>
            <p class="fragment">But it can be confusing.</p>
            <p class="fragment">So let's break it down like we did props</p>

        </section>
        <section>
            <h2>A first attempt</h2>
            <pre><code class="js" data-trim>
var Person = AmpersandState.extend({
    initialize: function(){
        this.listenTo(this,'change:firstName change:lastName',
           this.onChangeName);
        Object.defineProperty(this,'fullName', {
           get: function(){
             return this.firstName + ' ' + this.lastName;
           }
        });
    },
    onChangeName: function(){
        this.trigger('change:fullName', this);
    }
});
var john = new Person({firstName: 'John', lastName: 'Smith'});
john.fullName // "John Smith"

            </code></pre>

        </section>
        <section>
            <h2>A second attempt</h2>
            <pre><code class="js " data-trim>
setupDerivedProperty: function(property, dependencies, fn){
    function onDependencyChange(model){
           this.trigger('change:'+property, this);
        }
    }
    var model = this;
    dependencies.forEach( function(dependency) {
        model.listenTo(dependency, 'change:'+dependency,
            onDependencyChange );
    });
    Object.defineProperty(this,property, {
       get: function(){
         return fn();
       }
    });
}
            </code></pre>

        </section>
        <section>
            <h2>Second Attempt</h2>
            <pre><code class="js" data-trim>
var Person = AmpersandState.extend({
    initialize: function(){
        var dependencies = ['firstName','lastName']
        setupDerivedProperty('fullName', dependencies,
            function(){
                return this.firstName + ' ' + this.lastName;
            }
        );
    }
})
            </code></pre>
        </section>
        <section>
            <h2>Ampersand State Derived Properties</h2>
            <pre><code class="js" data-trim>
var Person = AmpersandState.extend({
    props: {
        firstName: 'string',
        lastName: 'string'
    },
    derived: {
        fullName: {
            deps: ['firstName', 'lastName'],
            fn :function(){
                return this.firstName + ' ' + this.lastName;
            }
        }
    }
})
            </code></pre>
        </section>
        <section>
            <h2>Derived Properties</h2>
            <p>They are also cached</p>
            <p>Only change events when property changes</p>
        </section>
        <section>
            <h2>Again, no Magic</h2>
            <p>But again, one important note</p>
            <strong class="fragment">Any dependencies need to be observable properties!</strong>
            <p class="fragment">This will be a recurring theme!</p>
        </section>
        <section>
            <h2>Model Relationships</h2>
            <pre><code class="js" data-trim>
var personJson = {
    firstName: 'Mike',
    lastName: 'Macaulay',
    hat: {
        color: 'green',
        size: 'large'
    }
};
            </code></pre>
        </section>
        <section>
            <h2>Children</h2>
            <pre><code class="js" data-trim>
var HatClass = AmpersandState.extend({
    props: {
        color: 'string',
        size: 'string'
    }
});
var Person = AmpersandState.extend({
    props // same as before
    children: {
        hat: HatClass
    }
});
var mike = new Person(personJson);
            </code></pre>
            <p class="fragment">These are one-to-one</p>
        </section>
        <section>
            <h2>Children bubble events</h2>
            <pre><code class="js" data-trim>
mike.on('change:hat.color', function(){
    console.log("hat color changed");
});
mike.hat.color = 'blue';  // triggers change event
            </code></pre>

        </section>
        <section>
            <h2>Common mistakes with children</h2>
            <pre><code class="js" data-trim>
// dont do this:
mike.hat = new HatClass({
    color: 'black',
    size: 'medium'
});  // breaks the relationship

// do this:
mike.set('hat',{
    color: 'black',
    size: 'medium'
});
            </code></pre>
        </section>
        <section>
            <h2>Collections</h2>
            <p>One to Many relationships</p>
            <p>Let's add a 'Pet' model</p>
            <pre><code class="js" data-trim>
var PetClass = AmpersandState.extend({
    props: {
        name: 'string'
    }
});
var PetCollection = AmpersandCollection.extend({
    model: PetClass
});

            </code></pre>
        </section>
        <section>
            <h2>Collections</h2>
            <pre><code class="js" data-trim>
var Person = AmpersandState.extend({
    props: //same as before
    children: //hat
    collections: {
        pets: PetCollection
    }
});
var mike = new Person({
    firstName: 'mike',
    pets: [
        {name: 'fido'},
        {name: 'fred'}
    ]
});
            </code></pre>
        </section>
        <section>
            <h2>Model-View-Controller</h2>
            <img src="lib/assets/backbone_mvc.png">
            <p class="fragment">What's difference between state and model?</p>
        </section>
        <section>
            <h2>State Vs Model</h2>
            <p>Put simply:</p>
            <p>A Model is just a state with 'save' and 'destroy' method that sync with the server</p>
        </section>
        <section>
            <h2>Model</h2>
            <pre><code class="js" data-trim>
var Person = AmpersandModel.extend({
    props // as before
    urlRoot: '/api/people'
});
var mike = new Person({firstName: 'mike'}).save();
// triggers a POST request to the server
            </code></pre>
        </section>
        <section>
            <h2>Or fetch from the server</h2>
            <pre><code class="js" data-trim>
var People = AmpersandRestCollection.extend({
    model: Person,
    url: '/api/people'
});
new People().fetch(); // trigers a 'GET'
            </code></pre>
        </section>
        <section>
            <h2>break</h2>
            <p>5 minute break</p>
            <p>Questions?</p>
        </section>
        <section>
            <h2>Next up: Views</h2>
            <img src="lib/assets/backbone_mvc.png">
        </section>
        <section>
            <h2>A View's Job</h2>
            <ul>
                <li>Take a Model</li>
                <li>Build a 'view' of it</li>
                <li>Keep view in sync with model</li>
            </ul>
        </section>
        <section>
            <h2>View Rendering</h2>
            <p>Usually boils down to:</p>
            <ul>
                <li>Take a template of HTML</li>
                <li>Send model to template to get HTML</li>
                <li>Put HTML in document</li>
            </ul>
        </section>
        <section>
            <h2>Ampersand View</h2>
            <p>From bottom up</p>
            <pre><code class="js" data-trim>
var PersonView = AmpersandView.extend({
    render: function(){
        this.el = document.createElement('div');
        this.el.textContent = this.model.firstName;
        return this;
    }
});
var view = new PersonView({
    model: mike
});
view.render();
view.el // < div>mike < /div>'
document.body.appendChild(view.el);  // our view is live


            </code></pre>

        </section>
        <section>
            <h2>Next steps: a Template</h2>
<pre><code class="js" data-trim>
var PersonView = AmpersandView.extend({
    template : '< div class="name">< /div>'
    render: function(){
        this.el = document.createElement('div');
        this.el.innerHTML = this.template;
        this.el.querySelector('.name').textContent = this.model.name;
        return this;
    }
});
           </code></pre>

        </section>
        <section>
            <h2>Even better</h2>
            <pre><code class="js" data-trim>
var PersonView = AmpersandView.extend({
    template : function(model){
        return '< div class="name">' + model.name + '< /div>';
    }
    render: function(){
        this.el = document.createElement('div');
        this.el.innerHTML = this.template(model);
        return this;
    }
});
            </code></pre>
        </section>
        <section>
            <h2>Introducing Handlebars templates</h2>
<pre><code class="html" data-trim>
<div class="person">
  <h1>{{name}}</h1>
</div>
</code></pre>
<p class="fragment">Get's translated into a function</p>
<pre class="fragment"><code class="js" data-trim>
var templateFunction = Handlebars.compile(htmlTemplateAsString);
var html = templateFunction({name: 'Mike'});

</code></pre>
        </section>

        <section>
            <h2>Better View</h2>
            <pre><code class="js" data-trim>
var PersonView = AmpersandView.extend({
    template : require('path.to.handlebars.function'),
    render: function(){
        this.el = document.createElement('div');
        this.el.innerHTML = this.template(model);
        return this;
    }
});
            </code></pre>
            <p class="fragment">Did anyone notice that we have an extra 'div'?</p>
        </section>
        <section>
            <h2>Removing the div</h2>
            <p>It's actually harder (and a lot of code)</p>
            <p class="fragment">So we use a library</p>
            <pre class="fragment"><code class="js" data-trim>
var PersonView = AmpersandView.extend({
    template : require('path.to.handlebars.function'),
    createHTMLfromString: function(str){
        // transform string into DOM elements
        return HTML
    },
    render: function(){
        var htmlString = this.template(model);
        this.el = this.createHTMLfromString(htmlString);
        return this;
    }
});
            </code></pre>
        </section>
        <section>
            <p>renderWithTemplate</p>
<pre><code class="js" data-trim>
var PersonView = AmpersandView.extend({
    template : require('path.to.handlebars.function'),
    render: function(){
        return renderWithTemplate(this.model);
    }
});
</code></pre>
        </section>
        <section>
            <h2>Interacting with the DOM</h2>
            <img src="lib/assets/backbone_mvc.png">
            <p class="fragment">How do we keep the view up to date?</p>
        </section>

        <section>
            <h2>Dynamic Views</h2>
<pre><code class="js" data-trim>
 var PersonView = AmpersandView.extend({
    initialize: function(){
        //model is automatically assigned
        this.model.listenTo('change:name', this.onNameChange, this);
    },
    onNameChange: function(){
        var newName = this.model.name;
        this.el.querySelector('h1').textContent = newName;
    }
});
</code></pre>
            <p class="fragment">This is a very repeatable pattern</p>
            <ul>
                <li class="fragment">ListenTo Something</li>
                <li class="fragment">Update piece of DOM</li>
                <li class="fragment">Update class, text, attr</li>
            </ul>

        </section>
        <section>
            <h2>Dynamic Views (2)</h2>
            <pre><code class="js" data-trim>
 var PersonView = AmpersandView.extend({
    bindings : {
        'model.name': {
            type: 'text',
            selector : 'h1'
        }
    }
});
            </code></pre>
            <p class="fragment">These are known as Ampersand DOM bindings</p>
            <p class="fragment">Again, no magic, just configuration</p>

        </section>
        <section>
            <h2>View State</h2>
            <p>Sometimes necessary</p>
            <p>Ampersand Views extend from 'state'</p>
<pre><code class="js" data-trim>
 var PersonView = AmpersandView.extend({
    props : {
        selected: 'boolean',
        expanded: 'boolean'
    }
});
</code></pre>

        </section>
        <section>
            <h2>View State</h2>
            <p>These can also be bound</p>
<pre><code class="js" data-trim>
 var PersonView = AmpersandView.extend({
    props : {
        selected: 'boolean',
        expanded: 'boolean'
    },
    bindings: {
        'selected': {
            type: 'class',
            name: 'is-selected',
            selector: 'h1'
        }
    }
});
</code></pre>

        </section>

        <section>
            <h2>What's wrong here?</h2>
<pre><code class="js" data-trim>
 var PersonView = AmpersandView.extend({
    initialize: function(){
        this.myProp = false;
    },
    bindings : {
        'myProp': {
            type: 'text',
            selector : 'h1'
        }
    }
});
</code></pre>
            <p class="fragment">Binding dependencies need to be <i>observable</i> properties</p>
        </section>


        <section>
            <h2>DOM Events</h2>
            <p>Not to be confused with Backbone/Ampersand Events</p>
            <p>Things like 'click', 'focusIn', 'mouseover', etc</p>
        </section>
        <section>
            <h2>Events</h2>
            <pre><code class="js" data-trim>
 var PersonView = AmpersandView.extend({
    template : require('path.to.handlebars.function'),
    events: {
        'click .entry' : 'onEntryClicked'
    },
    render: function(){
        return renderWithTemplate(this.model);
    },
    onEntryClicked: function(domEvent){
        console.log("I was clicked: ");
    }
});
            </code></pre>

        </section>

        <section>
            <h2>Using data-hook</h2>
<pre><code class="html" data-trim>
<div class="person">
  <h1></h1>
</div>
</code></pre>
<pre><code class="js" data-trim>
 var PersonView = AmpersandView.extend({
    bindings : {
        'model.name': {
            type: 'text',
            selector : 'h1'
        }
    }
});
</code></pre>
            <p class="fragment">Customer feedback:  name too large</p>
            <p class="fragment">h1 should be h2</p>
        </section>
        <section>
            <h2>Data-hook</h2>
            <p>Maintenance issue</p>
            <p>css class names are also problematic</p>
            <p class="fragment">Solution: data-hook attribute</p>
        </section>
        <section>
            <h2>Data-hook</h2>
<pre><code class="html" data-trim>
<div class="person">
  <h1 data-hook="name"></h1>
</div>
</code></pre>
<pre><code class="js" data-trim>
 var PersonView = AmpersandView.extend({
    bindings : {
        'model.name': {
            type: 'text',
            hook : 'name'
        }
    }
});
    </code></pre>
        </section>
        <section>
            <h2>Equivalent</h2>
<pre><code class="js" data-trim>
'model.name': {
    type: 'text',
    hook : 'name'
}
'model.name': {
    type: 'text',
    selector : '[data-hook="name"]'
}
</code></pre>
        </section>

        <section>
            <img src="lib/assets/backbone_mvc.png">
            <p class="fragment">How does this scale?</p>
        </section>

        <section>
            <h2>Complexity</h2>
            <img src="lib/assets/component-hierarchy.png" height="463" width="700"/>
        </section>
        <section>
            <h2>Managing Complexity</h2>
            <ul>
                <li>Models</li>
                <li>Views</li>
                <li>Communication between items</li>
            </ul>
        </section>
        <section>
            <h2>Complexity</h2>
            <p>Unfortunately, no single best answer</p>
            <p class="fragment">It depends</p>
        </section>
        <section>
            <h2>Mike's rules of Ampersand Communication</h2>
            <h2 class="fragment">MRAC</h2>
            <ul>
                <li class="fragment">Model Events</li>
                <li class="fragment">View Events</li>
                <li class="fragment">DOM Events</li>
                <li class="fragment">Radio Events</li>
            </ul>
        </section>
        <section>
            <h2>MRAC</h2>
            <p>Model Events</p>
            <p>Most app state is model state, so just update your model</p>
        </section>
        <section>
            <h2>MRAC</h2>
            <p>View Events</p>
            <p class="fragment">Views extend from state, they can trigger events</p>
            <pre class="fragment"><code class="js" data-trim>
//some view
render: function(){
    this.renderWithTemplate(this);
    this.subview = this.renderSubview(
        new Subview({model:this.model}),
        this.queryByHook('container'));
    this.listenTo(subView,'specialEvent', this.onSpecialEvent);
}
            </code></pre>
        </section>
        <section>
            <h2>MRAC</h2>
            <p>DOM Events</p>
            <p class="fragment">DOM Events are powerful, use them if possible</p>
            <p class="fragment">Only issue is mapping them back to your model</p>
            <pre class="fragment"><code class="js" data-trim>
 //some view
 events: {
    'click li' : onClick
 }
 render: function(){
    this.renderWithTemplate(this); // renders < ul> elements
    this.subview = this.renderCollection(
        this.collection,
        ItemView,  // each renders a 'li'
        this.queryByHook('container'));
 },
 onClick: function(event){
    //event.target is the DOM element that was clicked;
 }
            </code></pre>
        </section>
        <section>
            <h2>MRAC</h2>
            <p>Radio Events</p>
            <p class="fragment">What is Radio???</p>
        </section>
        <section>
            <h2>Break?</h2>

        </section>
        <section>
            <h2>Backbone.Radio</h2>
            <p class="fragment">Additional Messaging Patterns</p>
            <ul>
                <li class="fragment">Channels</li>
                <li class="fragment">Request/Reply</li>
            </ul>
        </section>
        <section>
            <h2>Radio Channels</h2>
            <p class="fragment">Kind of a global event bus</p>
<pre><code class="js" data-trim>
// first dial into Channel:
var userChannel = Radio.channel('user');
userChannel.on('some:event', function() {
  console.log('An event has happened!');
});

// or
Radio.on('user', 'some:event', function(){
    console.log('An event has happened!');
});
</code></pre>
        </section>
        <section>
            <h2>Radio Channels</h2>
            <p class="fragment">Best used when user clicks a button that is an application level command</p>
        </section>
        <section>
            <h2>Radio Request</h2>
            <p class="fragment">Application Dependencies needed to do work</p>
            <p class="fragment">Snapshots are good example</p>
<pre class="fragment"><code class="js" data-trim>
TakeSnapshotView = AmpersandView.extend({
    template: '< button> Take Snapshot!< /button>',
    events: {
        'click' : 'takeSnapshot'
    },
    takeSnapshot: function(){
        // what do we do here??
    }
})
</code></pre>
        </section>
        <section>
            <h2>Options</h2>
            <p>Assume we have a snapshot service</p>
            <ul>
                <li class="fragment">Do a global lookup: window.app.services.snapshotService.takeSnapshot()</li>
                <li class="fragment">Dependency Injection</li>
                <li class="fragment">Radio Request</li>
            </ul>
        </section>

        <section>
            <h2>Request registration</h2>
<pre><code class="js" data-trim>
// snapshot Service
initialize: function(){
    Radio.reply('snapshotService', 'take:snapshot',
        this.captureSnapshot, this);
}
captureSnapshot: function(){
    var snapshot = // take snapshot;
    return snapshot;
}

// our snapshot button
takeSnapshot: function(){
    var snapshot = Radio.request('snapshotService','take:snapshot');
    this.model.snapshots.add(snapshot);
    snapshot.save();
}
            </code></pre>
        </section>

        <section>
            <h2>Conclusion</h2>
            <p>Introduction to Ampersand and Radio</p>
            <p>MRAC</p>

        </section>
        <section>
            <h2>Next up:</h2>
            <p>Promises!</p>

        </section>
        <section>
            <h2>Questions?</h2>
            <p>What would you like to know more about?</p>
        </section>

    </div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>

    // Full list of configuration options available at:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
            {
                src: 'lib/js/classList.js', condition: function() {
                return !document.body.classList;
            }
            },
            {
                src: 'plugin/markdown/marked.js', condition: function() {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/markdown/markdown.js', condition: function() {
                return !!document.querySelector('[data-markdown]');
            }
            },
            {
                src: 'plugin/highlight/highlight.js', async: true, condition: function() {
                return !!document.querySelector('pre code');
            }, callback: function() {
                hljs.initHighlightingOnLoad();
            }
            },
            {src: 'plugin/zoom-js/zoom.js', async: true},
            {src: 'plugin/notes/notes.js', async: true}
        ]
    });

</script>

</body>
</html>
